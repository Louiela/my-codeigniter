 <!-- COMMON FOOTER START HERE -->
        <!-- footer content -->
        <footer>
          <div class="pull-right">
           Powered by: Lou Galban

          </div>
          <div class="clearfix"></div>
        </footer>
        <!-- /footer content -->
      </div>
    </div>

    <!-- ECharts -->
    <script src="{base_url}assets/vendors/echarts/dist/echarts.min.js"></script>
    <!-- jQuery -->
    <script src="{base_url}assets/vendors/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="{base_url}assets/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- FastClick -->
    <script src="{base_url}assets/vendors/fastclick/lib/fastclick.js"></script>
    <!-- NProgress -->
    <script src="{base_url}assets/vendors/nprogress/nprogress.js"></script>
    <!-- Chart.js -->
    <script src="{base_url}assets/vendors/Chart.js/dist/Chart.min.js"></script>
    <!-- jQuery Sparklines -->
    <script src="{base_url}assets/vendors/jquery-sparkline/dist/jquery.sparkline.min.js"></script>
    <!-- easy-pie-chart -->
    <script src="{base_url}assets/vendors/jquery.easy-pie-chart/dist/jquery.easypiechart.min.js"></script>
    <!-- gauge.js -->
    <script src="{base_url}assets/vendors/gauge.js/dist/gauge.min.js"></script>
    <!-- bootstrap-progressbar -->
    <script src="{base_url}assets/vendors/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
    <!-- iCheck -->
    <script src="{base_url}assets/vendors/iCheck/icheck.min.js"></script>
    <!-- Switchery -->
    <script src="{base_url}assets/vendors/switchery/dist/switchery.min.js"></script>
    <!-- Datatables -->
    <script src="{base_url}assets/vendors/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="{base_url}assets/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
    <script src="{base_url}assets/vendors/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
    <script src="{base_url}assets/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
    <script src="{base_url}assets/vendors/datatables.net-buttons/js/buttons.flash.min.js"></script>
    <script src="{base_url}assets/vendors/datatables.net-buttons/js/buttons.html5.min.js"></script>
    <script src="{base_url}assets/vendors/datatables.net-buttons/js/buttons.print.min.js"></script>
    <script src="{base_url}assets/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"></script>
    <script src="{base_url}assets/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js"></script>
    <script src="{base_url}assets/vendors/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
    <script src="{base_url}assets/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js"></script>
    <script src="{base_url}assets/vendors/datatables.net-scroller/js/dataTables.scroller.min.js"></script>
    <script src="{base_url}assets/vendors/jszip/dist/jszip.min.js"></script>
    <script src="{base_url}assets/vendors/pdfmake/build/pdfmake.min.js"></script>
    <script src="{base_url}assets/vendors/pdfmake/build/vfs_fonts.js"></script>
    <!-- bootstrap-daterangepicker -->
    <script src="{base_url}assets/vendors/moment/min/moment.min.js"></script>
    <!-- bootstrap-wysiwyg -->
    <script src="{base_url}assets/vendors/bootstrap-wysiwyg/js/bootstrap-wysiwyg.min.js"></script>
    <script src="{base_url}assets/vendors/jquery.hotkeys/jquery.hotkeys.js"></script>
    <script src="{base_url}assets/vendors/google-code-prettify/src/prettify.js"></script>
    <!-- Skycons -->
    <script src="{base_url}assets/vendors/skycons/skycons.js"></script>
    <!-- FullCalendar -->
    <script src="{base_url}assets/vendors/moment/min/moment.min.js"></script>
    <script src="{base_url}assets/vendors/fullcalendar/dist/fullcalendar.min.js"></script>
    <!-- Flot -->
    <script src="{base_url}assets/vendors/Flot/jquery.flot.js"></script>
    <script src="{base_url}assets/vendors/Flot/jquery.flot.pie.js"></script>
    <script src="{base_url}assets/vendors/Flot/jquery.flot.time.js"></script>
    <script src="{base_url}assets/vendors/Flot/jquery.flot.stack.js"></script>
    <script src="{base_url}assets/vendors/Flot/jquery.flot.resize.js"></script>
    <!-- Flot plugins -->
    <script src="{base_url}assets/vendors/flot.orderbars/js/jquery.flot.orderBars.js"></script>
    <script src="{base_url}assets/vendors/flot-spline/js/jquery.flot.spline.min.js"></script>
    <script src="{base_url}assets/vendors/flot.curvedlines/curvedLines.js"></script>
    <!-- DateJS -->
    <script src="{base_url}assets/vendors/DateJS/build/date.js"></script>
    <!-- JQVMap -->
    <script src="{base_url}assets/vendors/jqvmap/dist/jquery.vmap.js"></script>
    <script src="{base_url}assets/vendors/jqvmap/dist/maps/jquery.vmap.world.js"></script>
    <script src="{base_url}assets/vendors/jqvmap/examples/js/jquery.vmap.sampledata.js"></script>
    <!-- bootstrap-daterangepicker -->
    <script src="{base_url}assets/vendors/moment/min/moment.min.js"></script>
    <script src="{base_url}assets/vendors/bootstrap-daterangepicker/daterangepicker.js"></script>

    <!-- morris.js -->
    <script src="{base_url}assets/vendors/raphael/raphael.min.js"></script>
    <script src="{base_url}assets/vendors/morris.js/morris.min.js"></script>

    <script src="{base_url}assets/build/js/jquery.timeago.js"></script>
    <!-- validation -->
    <!-- <script src="//cdnjs.cloudflare.com/ajax/libs/validate.js/0.12.0/validate.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/jquery.validate.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/js/bootstrap-select.min.js"></script>

    <!-- dowload pdf -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.4.1/jspdf.debug.js" integrity="sha384-THVO/sM0mFD9h7dfSndI6TS0PgAGavwKvB5hAxRRvc0o9cPLohB0wb/PTA7LdUHs" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/2.3.5/jspdf.plugin.autotable.js"></script>
    
    <!-- Custom Theme Scripts -->
    <script src="{base_url}assets/build/js/default.js"></script>
    <!-- Custom Scripts -->
    <script src="{base_url}assets/build/js/custom.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.8.9/jquery.csv.min.js"></script>

    <?php

    $barangay_name = [];
    $barangay_count= [];
    if (@$current_month_recipient) {
        foreach ($current_month_recipient as $key => $brgy) {
            $barangay_name[] = $brgy->barangay_name;
            $barangay_count[] = $brgy->brngy_count;
        }
    }

    $permonth_sc = [];
    if (@$per_month_recipient) {
        foreach ($per_month_recipient as $key => $brgy) {
            $permonth_sc[] = $brgy->brngy_count;
        }
    }


    $brngy_count = [];
    $brngy_name = [];
    $top_others = 0;
    if (@$total_10_barangays_desc) {
        foreach ($total_10_barangays_desc as $key => $brgy) {
            if ($key < 9) {
                $brngy_count[] = $brgy->brngy_count;
                $brngy_name[] = $brgy->barangay_name;
            }
        }
    }

    array_push($brngy_count, @$total_10_others);
    array_push($brngy_name, 'Others');

    ?>
    
    <script>
      $(function () {
        $('.received_img_btn').on('click', function() {
          $('#myModal').modal('show');
          img = $('.received_img').attr('src');
          console.log(img);
          $('.modal .modal_received_img').attr('src', img);
          console.log('log1');
        });
        $('.modal .close').on('click', function() {
          $('#myModal').modal('hide');
        });
			});
			
			/**
			 * Dashboard
			 */
			if ($('#lineChart').length ){
			
				var ctx = document.getElementById("lineChart");
                var ticks = [2700, 2400, 2100, 1800, 1500, 1200, 900, 600, 300, 0];
				var lineChart = new Chart(ctx, {
				type: 'line',
				data: {
					labels: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
					datasets: [{
					label: "By Month",
					backgroundColor: "rgba(38, 185, 154, 0.31)",
					borderColor: "rgba(38, 185, 154, 0.7)",
					pointBorderColor: "rgba(38, 185, 154, 0.7)",
					pointBackgroundColor: "rgba(38, 185, 154, 0.7)",
					pointHoverBackgroundColor: "#fff",
					pointHoverBorderColor: "rgba(220,220,220,1)",
					pointBorderWidth: 1,
					data: <?php echo json_encode($permonth_sc) ?>
					}]
				},
                  options: {
                    scales: {
                      yAxes: [{
                        ticks: {
                          autoSkip: false,
                          min: ticks[ticks.length - 1],
                          max: ticks[0]
                        },
                        afterBuildTicks: function(scale) {
                          scale.ticks = ticks;
                          return;
                        },
                        beforeUpdate: function(oScale) {
                          return;
                        }
                      }]
                    }
                  }
				});
			
			}

			if ($('#canvas_line4').length ){
				
				var canvas_line_04 = new Chart(document.getElementById("canvas_line4"), {
				  type: 'line',
				  data: {
					labels: <?php echo json_encode($barangay_name) ?>,
					datasets: [ {
					  label: "By Month",
					  backgroundColor: "rgba(3, 88, 106, 0.3)",
					  borderColor: "rgba(3, 88, 106, 0.70)",
					  pointBorderColor: "rgba(3, 88, 106, 0.70)",
					  pointBackgroundColor: "rgba(3, 88, 106, 0.70)",
					  pointHoverBackgroundColor: "#fff",
					  pointHoverBorderColor: "rgba(151,187,205,1)",
					  pointBorderWidth: 1,
					  data: <?php echo json_encode($barangay_count) ?>
					}]
				  },
				});		
				
			}

			if ($('.canvasDoughnut').length){
			
			var chart_doughnut_settings = {
					type: 'doughnut',
					tooltipFillColor: "rgba(51, 51, 51, 0.55)",
					data: {
						labels: <?php echo json_encode($brngy_name) ?>,
						datasets: [{
							data: <?php echo json_encode($brngy_count) ?>,
							backgroundColor: [
								"#FF7F50",
								"#F0E68C",
								"#32CD32",
								"#40E0D0",
								"#4169E1",
                                "#9932CC",
                                "#A9A9A9",
                                "#F4A460",
                                "#BC8F8F",
                                "#A52A2A"
							],
							hoverBackgroundColor: [
								"#f19b7b",
								"#eae5b0",
								"#80de80",
								"#8fe2da",
								"#809ae6",
                                "#c582e6",
                                "#c5c3c3",
                                "#ecc19c",
                                "#e6c3c3",
                                "#d69494"
							]
						}]
					},
					options: { 
						legend: false, 
						responsive: false 
					}
				}
			
				$('.canvasDoughnut').each(function(){
					
					var chart_element = $(this);
					var chart_doughnut = new Chart( chart_element, chart_doughnut_settings);
					
				});			
			
			}

			if ($('#mybarChart').length ){ 
				var total_unclaimed_json = '<?php echo $total_unclaimed?>';
				var total_unclaimed = jQuery.parseJSON(total_unclaimed_json);
			  var ctx = document.getElementById("mybarChart");
			  var mybarChart = new Chart(ctx, {
				type: 'bar',
				data: {
				  labels: ["No SCs Transferred", "No SCs Deceased", "No SCs Waived"],
				  datasets: [{
					label: 'Total count',
					backgroundColor: "#26B99A",
					data: [total_unclaimed.transferred, total_unclaimed.deceased, total_unclaimed.waived]
				  }]
				},

				options: {
				  scales: {
					yAxes: [{
					  ticks: {
						beginAtZero: true
					  }
					}]
				  }
				}
			  });
			  
			} 
			/**
			 * End of Dashboard
			 */
     
      </script>

      </script>

    <?php if($pageId == 'reportPerformance') { ?>
        <script src="{base_url}assets/build/js/jquery.print.js"></script>
    <?php } ?>

    <?php if($pageId == 'report') { ?>
        <!-- <script type="text/javascript">
          var month1 = '<?=date('F')?>';
            var month2 = '<?=date('F',strtotime('- 1 month'))?>';
            var month3 = '<?=date('F',strtotime('- 2 month'))?>';
            var month4 = '<?=date('F',strtotime('- 3 month'))?>';
            
            // Chart.defaults.global.legend = {
            //     enabled: true
            // };
            jQuery.ajax({
                type: "get",
                url: '<?=base_url()?>report/summary',
                success: function(response){
                    var obj = jQuery.parseJSON(response);
                    console.log(obj);
                    // chart config
                    var ctx = document.getElementById("summaryChart").getContext("2d");
                    var mybarChart = new Chart(ctx, {
                        type: 'bar',
                        data: {
                          labels: [month4, month3, month2, month1],
                          datasets: [{
                            label: 'Received',
                            backgroundColor: "#26B99A",
                            data: [
                                obj.m4.received, 
                                obj.m3.received, 
                                obj.m2.received, 
                                obj.m1.received
                            ]
                          }, {
                            label: 'Reclaim',
                            backgroundColor: "#5bc0de",
                            data: [
                                obj.m4.reclaim, 
                                obj.m3.reclaim, 
                                obj.m2.reclaim, 
                                obj.m1.reclaim
                            ]
                          }, {
                            label: 'Unclaimed',
                            backgroundColor: "#d9534f",
                            data: [
                                obj.m4.unclaim, 
                                obj.m3.unclaim, 
                                obj.m2.unclaim, 
                                obj.m1.unclaim
                            ]
                          }]
                        },

                        options: {
                            legend: {
                              display: true,
                              position: 'bottom'
                            },
                            scales: {
                                yAxes: [{
                                  ticks: {
                                    beginAtZero: true
                                  }
                                }]
                            }
                        }
                    });
                },
                error: function (response){
                    console.log('error');
                }
            });  
        </script> -->
    <?php } ?>
  
  </body>
